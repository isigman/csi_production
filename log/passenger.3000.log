[ N 2018-01-08 17:08:55.1937 96473/T1 age/Wat/WatchdogMain.cpp:1267 ]: Starting Passenger watchdog...
[ W 2018-01-08 17:08:55.2034 96474/T1 Ser/Server.h:782 ]: [WatchdogApiServer] Cannot disable Nagle's algorithm on a TCP socket: Invalid argument (errno=22)
[ N 2018-01-08 17:08:55.2532 96475/T1 age/Cor/CoreMain.cpp:1165 ]: Starting Passenger core...
[ N 2018-01-08 17:08:55.2540 96475/T1 age/Cor/CoreMain.cpp:271 ]: Passenger core running in single-application mode.
[ N 2018-01-08 17:08:55.2540 96475/T1 age/Cor/CoreMain.cpp:272 ]: Serving app     : /usr/home/isigman/csi_wrapper/csi
[ N 2018-01-08 17:08:55.2540 96475/T1 age/Cor/CoreMain.cpp:273 ]: App type        : rack
[ N 2018-01-08 17:08:55.2540 96475/T1 age/Cor/CoreMain.cpp:274 ]: App startup file: /usr/home/isigman/csi_wrapper/csi/config.ru
[ W 2018-01-08 17:08:55.2702 96475/T1 Ser/AcceptLoadBalancer.h:295 ]: Cannot disable Nagle's algorithm on a TCP socket: Invalid argument (errno=22)
[ W 2018-01-08 17:08:55.2705 96475/T1 Ser/Server.h:782 ]: [ApiServer] Cannot disable Nagle's algorithm on a TCP socket: Invalid argument (errno=22)
[ N 2018-01-08 17:08:55.2717 96475/T1 age/Cor/CoreMain.cpp:905 ]: Passenger core online, PID 96475
App 96486 stdout: 
[ N 2018-01-08 17:08:57.9573 96475/T5 age/Cor/SecurityUpdateChecker.h:374 ]: Security update check: no update found (next check in 24 hours)
App 96486 stderr:   Please add the following to your Gemfile to avoid polling for changes:
App 96486 stderr:     require 'rbconfig'
App 96486 stderr:     if RbConfig::CONFIG['target_os'] =~ /(?i-mx:bsd|dragonfly)/
App 96486 stderr:       gem 'rb-kqueue', '>= 0.2'
App 96486 stderr:     end
App 96486 stderr:   Please add the following to your Gemfile to avoid polling for changes:
App 96486 stderr:     require 'rbconfig'
App 96486 stderr:     if RbConfig::CONFIG['target_os'] =~ /(?i-mx:bsd|dragonfly)/
App 96486 stderr:       gem 'rb-kqueue', '>= 0.2'
App 96486 stderr:     end
App 96486 stdout: 
[ E 2018-01-08 17:09:07.3335 96475/Te age/Cor/App/Implementation.cpp:304 ]: Could not spawn process for application /usr/home/isigman/csi_wrapper/csi: An error occurred while starting up the preloader.
  Error ID: 54804700
  Error details saved to: /tmp/passenger-error-NiNvBN.html
  Message from application: Specified 'postgresql' for database adapter, but the gem is not loaded. Add `gem 'pg'` to your Gemfile (and ensure its version is at the minimum required by ActiveRecord). (Gem::LoadError)
  /usr/local/lib/ruby/gems/2.3/gems/activerecord-5.1.4/lib/active_record/connection_adapters/connection_specification.rb:188:in `rescue in spec'
  /usr/local/lib/ruby/gems/2.3/gems/activerecord-5.1.4/lib/active_record/connection_adapters/connection_specification.rb:185:in `spec'
  /usr/local/lib/ruby/gems/2.3/gems/activerecord-5.1.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:880:in `establish_connection'
  /usr/local/lib/ruby/gems/2.3/gems/activerecord-5.1.4/lib/active_record/connection_handling.rb:58:in `establish_connection'
  /usr/local/lib/ruby/gems/2.3/gems/activerecord-5.1.4/lib/active_record/railtie.rb:124:in `block (2 levels) in <class:Railtie>'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:69:in `instance_eval'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:69:in `block in execute_hook'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:60:in `with_execution_control'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:65:in `execute_hook'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:50:in `block in run_load_hooks'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:49:in `each'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/lazy_load_hooks.rb:49:in `run_load_hooks'
  /usr/local/lib/ruby/gems/2.3/gems/activerecord-5.1.4/lib/active_record/base.rb:326:in `<module:ActiveRecord>'
  /usr/local/lib/ruby/gems/2.3/gems/activerecord-5.1.4/lib/active_record/base.rb:25:in `<top (required)>'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:292:in `require'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:292:in `block in require'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:256:in `block in load_dependency'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:661:in `new_constants_in'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:256:in `load_dependency'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:292:in `require'
  /usr/home/isigman/csi_wrapper/csi/app/models/application_record.rb:1:in `<top (required)>'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:476:in `load'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:476:in `block in load_file'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:661:in `new_constants_in'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:475:in `load_file'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:374:in `block in require_or_load'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:36:in `block in load_interlock'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:12:in `block in loading'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:11:in `loading'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:36:in `load_interlock'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:357:in `require_or_load'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:510:in `load_missing_constant'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:202:in `const_missing'
  /usr/home/isigman/csi_wrapper/csi/app/models/admin_user.rb:1:in `<top (required)>'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:476:in `load'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:476:in `block in load_file'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:661:in `new_constants_in'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:475:in `load_file'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:374:in `block in require_or_load'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:36:in `block in load_interlock'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:12:in `block in loading'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/concurrency/share_lock.rb:149:in `exclusive'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies/interlock.rb:11:in `loading'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:36:in `load_interlock'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:357:in `require_or_load'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:510:in `load_missing_constant'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:202:in `const_missing'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:269:in `const_get'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:269:in `block in constantize'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `each'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `inject'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/inflector/methods.rb:267:in `constantize'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:582:in `get'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:613:in `constantize'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise.rb:313:in `get'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise/mapping.rb:81:in `to'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise/mapping.rb:76:in `modules'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise/mapping.rb:93:in `routes'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise/mapping.rb:160:in `default_used_route'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise/mapping.rb:70:in `initialize'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise.rb:343:in `new'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise.rb:343:in `add_mapping'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise/rails/routes.rb:241:in `block in devise_for'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise/rails/routes.rb:240:in `each'
  /usr/local/lib/ruby/gems/2.3/gems/devise-4.3.0/lib/devise/rails/routes.rb:240:in `devise_for'
  /usr/home/isigman/csi_wrapper/csi/config/routes.rb:3:in `block in <top (required)>'
  /usr/local/lib/ruby/gems/2.3/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:426:in `instance_exec'
  /usr/local/lib/ruby/gems/2.3/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:426:in `eval_block'
  /usr/local/lib/ruby/gems/2.3/gems/actionpack-5.1.4/lib/action_dispatch/routing/route_set.rb:408:in `draw'
  /usr/home/isigman/csi_wrapper/csi/config/routes.rb:1:in `<top (required)>'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:286:in `load'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:286:in `block in load'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:258:in `load_dependency'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/dependencies.rb:286:in `load'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:55:in `block in load_paths'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:55:in `each'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:55:in `load_paths'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:18:in `reload!'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:41:in `block in updater'
  /usr/local/lib/ruby/gems/2.3/gems/activesupport-5.1.4/lib/active_support/file_update_checker.rb:81:in `execute'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:42:in `updater'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application/routes_reloader.rb:31:in `execute_if_updated'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application/finisher.rb:128:in `block in <module:Finisher>'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/initializable.rb:30:in `instance_exec'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/initializable.rb:30:in `run'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/initializable.rb:59:in `block in run_initializers'
  /usr/local/lib/ruby/2.3/tsort.rb:228:in `block in tsort_each'
  /usr/local/lib/ruby/2.3/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'
  /usr/local/lib/ruby/2.3/tsort.rb:431:in `each_strongly_connected_component_from'
  /usr/local/lib/ruby/2.3/tsort.rb:349:in `block in each_strongly_connected_component'
  /usr/local/lib/ruby/2.3/tsort.rb:347:in `each'
  /usr/local/lib/ruby/2.3/tsort.rb:347:in `call'
  /usr/local/lib/ruby/2.3/tsort.rb:347:in `each_strongly_connected_component'
  /usr/local/lib/ruby/2.3/tsort.rb:226:in `tsort_each'
  /usr/local/lib/ruby/2.3/tsort.rb:205:in `tsort_each'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/initializable.rb:58:in `run_initializers'
  /usr/local/lib/ruby/gems/2.3/gems/railties-5.1.4/lib/rails/application.rb:353:in `initialize!'
  /usr/home/isigman/csi_wrapper/csi/config/environment.rb:5:in `<top (required)>'
  config.ru:3:in `require_relative'
  config.ru:3:in `block in <main>'
  /usr/local/lib/ruby/gems/2.3/gems/rack-2.0.3/lib/rack/builder.rb:55:in `instance_eval'
  /usr/local/lib/ruby/gems/2.3/gems/rack-2.0.3/lib/rack/builder.rb:55:in `initialize'
  config.ru:1:in `new'
  config.ru:1:in `<main>'
  /usr/local/lib/ruby/gems/2.3/gems/passenger-5.1.12/src/helper-scripts/rack-preloader.rb:110:in `eval'
  /usr/local/lib/ruby/gems/2.3/gems/passenger-5.1.12/src/helper-scripts/rack-preloader.rb:110:in `preload_app'
  /usr/local/lib/ruby/gems/2.3/gems/passenger-5.1.12/src/helper-scripts/rack-preloader.rb:156:in `<module:App>'
  /usr/local/lib/ruby/gems/2.3/gems/passenger-5.1.12/src/helper-scripts/rack-preloader.rb:30:in `<module:PhusionPassenger>'
  /usr/local/lib/ruby/gems/2.3/gems/passenger-5.1.12/src/helper-scripts/rack-preloader.rb:29:in `<main>'


[ E 2018-01-08 17:09:07.3981 96475/T7 age/Cor/Con/CheckoutSession.cpp:285 ]: [Client 1-1] Cannot checkout session because a spawning error occurred. The identifier of the error is 54804700. Please see earlier logs for details about the error.
